---
title: Complex Query Specification
permalink: wiki/Complex_Query_Specification
layout: wiki
tags:
 - User Interface
 -  Mockups
---

# Complex Query Specification

## Version 4

### Buttons for advanced query

<figure>
<img src="NewAdvancedQuery.001.png" title="NewAdvancedQuery.001.png" />
<figcaption>NewAdvancedQuery.001.png</figcaption>
</figure>

### Save a query

<figure>
<img src="NewAdvancedQuery.002.png" title="NewAdvancedQuery.002.png" />
<figcaption>NewAdvancedQuery.002.png</figcaption>
</figure>

### Enter advanced query page

<figure>
<img src="NewAdvancedQuery.003.png" title="NewAdvancedQuery.003.png" />
<figcaption>NewAdvancedQuery.003.png</figcaption>
</figure>

### Additional Fields (suggestions?)

<figure>
<img src="NewAdvancedQuery.004.png" title="NewAdvancedQuery.004.png" />
<figcaption>NewAdvancedQuery.004.png</figcaption>
</figure>

### Add a new subquery

<figure>
<img src="NewAdvancedQuery.005.png" title="NewAdvancedQuery.005.png" />
<figcaption>NewAdvancedQuery.005.png</figcaption>
</figure>

### Subquery available

<figure>
<img src="NewAdvancedQuery.006.png" title="NewAdvancedQuery.006.png" />
<figcaption>NewAdvancedQuery.006.png</figcaption>
</figure>

### Fill in subquery

- Need a go button - maybe drop on tool bar?

<figure>
<img src="NewAdvancedQuery.007.png" title="NewAdvancedQuery.007.png" />
<figcaption>NewAdvancedQuery.007.png</figcaption>
</figure>

### Results

<figure>
<img src="NewAdvancedQuery.008.png" title="NewAdvancedQuery.008.png" />
<figcaption>NewAdvancedQuery.008.png</figcaption>
</figure>

### Alternative Start from mesethmoid query

- Can change the logical operation in a drop-down

<figure>
<img src="NewAdvancedQuery.009.png" title="NewAdvancedQuery.009.png" />
<figcaption>NewAdvancedQuery.009.png</figcaption>
</figure>

<figure>
<img src="NewAdvancedQuery.010.png" title="NewAdvancedQuery.010.png" />
<figcaption>NewAdvancedQuery.010.png</figcaption>
</figure>

### Change to disjunction returns more results

<figure>
<img src="NewAdvancedQuery.011.png" title="NewAdvancedQuery.011.png" />
<figcaption>NewAdvancedQuery.011.png</figcaption>
</figure>

<figure>
<img src="NewAdvancedQuery.012.png" title="NewAdvancedQuery.012.png" />
<figcaption>NewAdvancedQuery.012.png</figcaption>
</figure>

### Add saved basihyal query

<figure>
<img src="NewAdvancedQuery.013.png" title="NewAdvancedQuery.013.png" />
<figcaption>NewAdvancedQuery.013.png</figcaption>
</figure>

### And specify the connective

<figure>
<img src="NewAdvancedQuery.014.png" title="NewAdvancedQuery.014.png" />
<figcaption>NewAdvancedQuery.014.png</figcaption>
</figure>

<figure>
<img src="NewAdvancedQuery.015.png" title="NewAdvancedQuery.015.png" />
<figcaption>NewAdvancedQuery.015.png</figcaption>
</figure>

### Should give same results

<figure>
<img src="NewAdvancedQuery.016.png" title="NewAdvancedQuery.016.png" />
<figcaption>NewAdvancedQuery.016.png</figcaption>
</figure>

### Advanced query also available from gene search

<figure>
<img src="NewAdvancedQuery.017.png" title="NewAdvancedQuery.017.png" />
<figcaption>NewAdvancedQuery.017.png</figcaption>
</figure>

### Gene query details

<figure>
<img src="NewAdvancedQuery.018.png" title="NewAdvancedQuery.018.png" />
<figcaption>NewAdvancedQuery.018.png</figcaption>
</figure>

## Notes for a Version 3

A number of approaches to a complex query have been suggested. Since Jim
has added a simple query to many of the summary pages, the focus of a
complex query is on covering the types of queries that can't be
expressed in the standard query. An appropriate visualization of a query
ought to be very explicit and could, secondarily let users check the
semantics of a simple query (e.g., make the implicit disjunctions within
categories and conjunctions between categories explicit). To this latter
end, and as a way for users to discover how complex queries work, a
button or link to a complex query page should be available at the bottom
of every simple query panel. When selected, the contents of the simple
query will be copied into the complex query page, establishing both a
starting point for the user to build on and a correspondence back to the
simple query.

### List of suggested query models

- <a href="http://www.biomart.org_Biomart" class="wikilink"
  title="http://www.biomart.org Biomart">http://www.biomart.org
  Biomart</a>
- <a href="http://www.gusdb.org/wdk_Strategies_Web_Development_Kit"
  class="wikilink"
  title="http://www.gusdb.org/wdk Strategies Web Development Kit">http://www.gusdb.org/wdk
  Strategies Web Development Kit</a>
  - examples at
    <a href="http://plasmodb.org/plasmo_PlasmoDB" class="wikilink"
    title="http://plasmodb.org/plasmo PlasmoDB">http://plasmodb.org/plasmo
    PlasmoDB</a>.
- <a
  href="http://compbio.charite.de/Phenomizer/Phenomizer.html_Phenomizer"
  class="wikilink"
  title="http://compbio.charite.de/Phenomizer/Phenomizer.html Phenomizer">http://compbio.charite.de/Phenomizer/Phenomizer.html
  Phenomizer</a>
- <a href="http://www.arb-silva.de/search/ontogrator/_Ontogrator"
  class="wikilink"
  title="http://www.arb-silva.de/search/ontogrator/ Ontogrator">http://www.arb-silva.de/search/ontogrator/
  Ontogrator</a>
- Other 'list oriented' queries (e.g., fogbugz, mail.app, etc.)

## Version 2

### Entry from Taxon Page

<figure>
<img src="Biomart126_1.png" title="Biomart126_1.png" />
<figcaption>Biomart126_1.png</figcaption>
</figure>

<figure>
<img src="BioMart126_2.png" title="BioMart126_2.png" />
<figcaption>BioMart126_2.png</figcaption>
</figure>

<figure>
<img src="BioMart126_3.png" title="BioMart126_3.png" />
<figcaption>BioMart126_3.png</figcaption>
</figure>

<figure>
<img src="BioMart126_4.png" title="BioMart126_4.png" />
<figcaption>BioMart126_4.png</figcaption>
</figure>

<figure>
<img src="BioMart126_5.png" title="BioMart126_5.png" />
<figcaption>BioMart126_5.png</figcaption>
</figure>

<figure>
<img src="BioMart126_6.png" title="BioMart126_6.png" />
<figcaption>BioMart126_6.png</figcaption>
</figure>

<figure>
<img src="BioMart126_7.png" title="BioMart126_7.png" />
<figcaption>BioMart126_7.png</figcaption>
</figure>

<figure>
<img src="BioMart126_8.png" title="BioMart126_8.png" />
<figcaption>BioMart126_8.png</figcaption>
</figure>

<figure>
<img src="BioMart126_9.png" title="BioMart126_9.png" />
<figcaption>BioMart126_9.png</figcaption>
</figure>

<figure>
<img src="BioMart126_10.png" title="BioMart126_10.png" />
<figcaption>BioMart126_10.png</figcaption>
</figure>

<figure>
<img src="BioMart126_11.png" title="BioMart126_11.png" />
<figcaption>BioMart126_11.png</figcaption>
</figure>

<figure>
<img src="BioMart126_12.png" title="BioMart126_12.png" />
<figcaption>BioMart126_12.png</figcaption>
</figure>

### Entry from Phenotype Page

<figure>
<img src="BioMart126_14.png" title="BioMart126_14.png" />
<figcaption>BioMart126_14.png</figcaption>
</figure>

### Entry from Gene Page

<figure>
<img src="BioMart126_16.png" title="BioMart126_16.png" />
<figcaption>BioMart126_16.png</figcaption>
</figure>

### Entry from Publication Page

\[\[Image:BioMart126_18.png\]

### Version 1

### Entry of phenotype specification

#### Single Pane Set Algebra interface

<figure>
<img src="ComplexQuery1.png" title="ComplexQuery1.png" />
<figcaption>ComplexQuery1.png</figcaption>
</figure>

<figure>
<img src="ComplexQuery2.png" title="ComplexQuery2.png" />
<figcaption>ComplexQuery2.png</figcaption>
</figure>

<figure>
<img src="ComplexQueryAlgebraBox.png"
title="ComplexQueryAlgebraBox.png" />
<figcaption>ComplexQueryAlgebraBox.png</figcaption>
</figure>

#### Phenotype on Tree Mapping Specification

<figure>
<img src="TreeDisplayQuery.png" title="TreeDisplayQuery.png" />
<figcaption>TreeDisplayQuery.png</figcaption>
</figure>

#### Biomart style interface

<figure>
<img src="BioMart1.png" title="BioMart1.png" />
<figcaption>BioMart1.png</figcaption>
</figure>

<figure>
<img src="BioMart2.png" title="BioMart2.png" />
<figcaption>BioMart2.png</figcaption>
</figure>

### Version 0

- user enters a phenotype specification, presses Done

<figure>
<img src="queries1.png" title="queries1.png" width="700" />
<figcaption>queries1.png</figcaption>
</figure>
